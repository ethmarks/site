---
import Layout from "../layouts/Layout.astro";
import Intro from "../components/intro.astro";
import Card from "../components/card.astro";

import thessaPic from "../assets/thessa.webp";
import asciiGlobePic from "../assets/ascii-globe.webp";
import colourlessTransformerPic from "../assets/colourlesstransformer.webp";
import watermanPic from "../assets/waterman.webp";
import liquidGlassPic from "../assets/liquidglass.webp";
import mercatorPic from "../assets/mercator.webp";
---

<Layout>
    <Intro />
    <main>
        <section id="about" class="staggered">
            <h2>Who I Am</h2>
            <p>
                I'm Ethan Marks. I'm a 15-year-old software developer. My work
                lives at the intersection of code, design, and curiosity. This
                is my corner of the web.
            </p>
            <a href="https://ethmarks.github.io/about/" class="link-capsule"
                >More about me →</a
            >
        </section>
        <section id="build" class="staggered">
            <h2>What I Build</h2>
            <p>
                I enjoy writing software and automating things with code. I've
                been programming for the majority of my life, and I spend most
                of my free time working on my various projects, including the
                website you're on right now.
            </p>
            <a
                href="https://ethmarks.github.io/tags/projects/"
                class="link-capsule">All projects →</a
            >
            <div id="projects" class="cards">
                <h3>Featured Projects</h3>
                <div class="cards-grid">
                    <Card
                        image={asciiGlobePic}
                        url="https://ethmarks.github.io/posts/asciiglobe/"
                        alt="A spinning globe rendered with text"
                        title="ASCII-Globe"
                        desc="A text-based cartographic rendering engine that uses NASA satellite data"
                        transparent="true"
                    />
                    <Card
                        image={thessaPic}
                        url="https://ethmarks.github.io/posts/thessa/"
                        alt="A screenshot of the Thessa interface"
                        title="Thessa"
                        desc="An AI thesaurus built with Sveltekit powered by Cerebras"
                    />
                    <Card
                        image={colourlessTransformerPic}
                        url="https://ethmarks.github.io/posts/colourlesstransformer/"
                        alt="A highly stylized watercolour-style image of a concrete walkway runs alongside a dense hedge of flowering bushes, all under a sleek red pergola."
                        title="ColourlessTransformer"
                        desc="A Streamlit interface for PaintTransformer, a neural network that approximates images using paint strokes"
                    />
                </div>
            </div>
        </section>
        <section id="write" class="staggered">
            <h2>What I Write</h2>
            <p>
                I love to write, and I publish some of my more coherent pieces
                here on my personal website as posts. I've written technical
                articles, word collections, poems, short stories, and more.
            </p>

            <div id="posts" class="cards">
                <h3>Featured Posts</h3>
                <div class="cards-grid">
                    <Card
                        image={watermanPic}
                        url="https://ethmarks.github.io/posts/waterman/"
                        alt="An unusual world map in a butterfly shape, showing the continents arranged in eight connected lobes"
                        title="The Waterman Butterfly"
                        desc="An exploration of the Waterman Butterfly map projection"
                    />
                    <Card
                        image={mercatorPic}
                        url="https://ethmarks.github.io/posts/mercator/"
                        alt="Gerardus Mercator's original 1569 world map"
                        title="Mercator's World Map was useless"
                        desc="An essay about the many errors in Gerardus Mercator's 1569 world map"
                    />
                    <Card
                        image={liquidGlassPic}
                        url="https://ethmarks.github.io/posts/liquidglass/"
                        alt="Various colourful abstract Liquid Glass blobs, using glassmorphic frosted glass transparency and resembling real glass"
                        title="Thoughts on Liquid Glass"
                        desc="My thoughts on Apple's new Liquid Glass design"
                    />
                </div>
            </div>

            <a href="https://ethmarks.github.io/posts/" class="link-capsule"
                >All posts →</a
            >
        </section>
        <section id="contact" class="staggered">
            <h2>Contact</h2>
            <p>
                Feel free to reach out! I'm always happy to chat. Whether you
                want to discuss a project, share an interesting idea, or just
                say hello, I'd love to hear from you.
            </p>
            <a href="mailto:ethmarks.dev@gmail.com" class="link-capsule"
                >Email me →</a
            >
        </section>
    </main>
</Layout>

<style>
    :root {
        --main-width: 1000px;

        --section-margin-top: clamp(3rem, 8vw, 5rem);
        --subsection-margin-top: var(--spacing-lg);
        --section-padding: var(--spacing-xl);
        --section-padding-mobile: var(--spacing-lg);
        --section-border-radius: var(--radius-xl);
        --section-entrance-offset: 35px;
    }

    main {
        margin-top: 0;
        margin-bottom: var(--spacing-lg);
    }

    section {
        margin-top: var(--section-margin-top);
        padding: var(--section-padding);
        border-radius: var(--section-border-radius);
        transition: var(--transition-transform-shadow);

        @media (prefers-reduced-motion: no-preference) {
            opacity: 0;

            @media (min-height: 1200px) {
                &:nth-child(even) {
                    transform: translateX(
                        calc(var(--section-entrance-offset) * -1)
                    );
                }
                &:nth-child(odd) {
                    transform: translateX(var(--section-entrance-offset));
                }
            }

            @media (max-height: 1200px) {
                transform: translateY(var(--section-entrance-offset));
            }

            animation: sectionEntrance 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94)
                forwards;
            animation-delay: calc(0.2s + var(--child-animation-delay));
        }

        @media (max-width: 768px) {
            padding: var(--section-padding-mobile);
            border-radius: var(--radius-lg);
        }

        h2 {
            margin-bottom: var(--spacing-md);
            color: var(--color-text);
        }

        p {
            margin-bottom: var(--spacing-md);
            color: var(--color-text-secondary);
            line-height: 1.6;
        }

        .link-capsule {
            display: inline-block;
            margin-top: var(--spacing-sm);
            padding: var(--spacing-xs) var(--spacing-md);
            background: var(--color-accent-transparent-10);
            border: var(--border-accent);
            border-radius: var(--radius-round);
            transition: var(--transition-default);
            font-weight: var(--font-weight-normal);
            text-decoration: none;

            &:hover {
                background: var(--color-accent-transparent-20);
                transform: translateY(-1px);
                text-decoration: none;
            }
        }
    }

    #about {
        background: linear-gradient(
            135deg,
            var(--color-panel),
            color-mix(in srgb, var(--color-panel) 8%, var(--color-background))
        );
        border: var(--border-standard-2px);
    }

    #build {
        background: linear-gradient(
            135deg,
            color-mix(
                in srgb,
                var(--color-accent) 15%,
                var(--color-background)
            ),
            color-mix(in srgb, var(--color-panel) 9%, var(--color-background))
        );
        border: var(--border-accent-t-2px);
    }

    #write {
        background: linear-gradient(
            135deg,
            color-mix(in srgb, var(--color-text) 5%, var(--color-background)),
            color-mix(in srgb, var(--color-panel) 85%, var(--color-background))
        );
        border: var(--border-light-2px);
    }

    #contact {
        background: linear-gradient(
            -45deg,
            color-mix(
                in srgb,
                var(--color-accent) 12%,
                var(--color-background)
            ),
            color-mix(in srgb, var(--color-panel) 50%, var(--color-background))
        );
        border: var(--border-accent-t-2px);
    }

    .cards {
        margin-top: var(--subsection-margin-top);

        h3 {
            margin-bottom: var(--spacing-md);
            color: var(--color-text);
            font-size: var(--font-size-h4);
        }

        .cards-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--card-gap);

            @media (max-width: 768px) {
                grid-template-columns: 1fr;
                gap: var(--spacing-md);
            }
        }
    }

    @keyframes sectionEntrance {
        to {
            opacity: 1;
            transform: translate(0);
        }
    }
</style>
